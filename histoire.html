<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historique - Troupe Saint Elme</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="histoire.css">
    <link rel="icon" href="images/embleme troupe.png">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <!-- FontAwesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <img style="right:20px" src="images/embleme troupe.png" alt="Emblème troupe">
        <img style="left:20px" src="images/logo fédération.png" alt="Logo fédération">
        <h1>Troupe Saint Elme</h1>
        <nav>
            <ul>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/index.html">Accueil</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/annee_2023.html">2023</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/annee_2024.html">2024</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/annee_2025.html">2025</a></li>
                <li style="width: 20px;"></li>
                <li><a href="histoire.html" class="active">Historique</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/about-us.html">À Propos</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/contact-us.html">Contact</a></li>
                <li><a href="https://javabatchcss.github.io/Troupe-Saint-Elme/documentation.html">Documentation</a></li>
                <li><a href="https://www.fsggb.fr/">Site de la Fédération</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Section d'authentification administrateur -->
        <section id="auth-section" class="contenu-principal">
            <h2>Espace Administrateur</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="email">Email administrateur</label>
                    <input type="email" id="email" placeholder="Email administrateur" required autocomplete="username" />
                </div>
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" placeholder="Mot de passe" required autocomplete="current-password" />
                </div>
                <button type="submit" id="login-btn" class="btn btn-primary">Se connecter</button>
                <p id="auth-error" class="error-message"></p>
            </form>
        </section>

        <!-- Barre d'outils d'édition -->
        <section id="editor-toolbar" class="editor-toolbar hidden">
            <div class="toolbar-group file-operations">
                <button id="save-btn" title="Enregistrer les modifications" class="btn-primary"><i class="fas fa-save"></i> Enregistrer</button>
                <button id="undo-btn" title="Annuler (Ctrl+Z)" class="disabled"><i class="fas fa-undo"></i></button>
                <button id="redo-btn" title="Rétablir (Ctrl+Y)" class="disabled"><i class="fas fa-redo"></i></button>
            </div>
            <div class="toolbar-group">
                <button id="logout-btn" title="Se déconnecter" class="btn-danger"><i class="fas fa-sign-out-alt"></i> Déconnexion</button>
            </div>
        </section>

        <!-- Template pour les années -->
        <template id="year-template">
            <div class="year-section" data-year="">
                <div class="year-header">
                    <h3 contenteditable="true" class="year-title">Année XXXX</h3>
                    <div class="year-actions admin-only">
                        <div class="btn-group">
                            <button class="move-up-btn" title="Déplacer vers le haut"><i class="fas fa-arrow-up"></i></button>
                            <button class="move-down-btn" title="Déplacer vers le bas"><i class="fas fa-arrow-down"></i></button>
                            <button class="delete-year-btn btn-danger" title="Supprimer cette année"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                </div>
                <div class="year-content" contenteditable="true">
                    <p>Ajoutez ici le contenu pour cette année...</p>
                </div>
            </div>
        </template>

        <!-- Conteneur principal du contenu éditable -->
        <section id="content-container" class="contenu-principal">
            <h2>Historique de la Troupe Saint Elme</h2>
            <div id="editable-content" class="content-view">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i> Chargement du contenu...
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; Troupe Saint Elme</p>
    </footer>

    <script src="histoire.js"></script>
</body>
</html>
